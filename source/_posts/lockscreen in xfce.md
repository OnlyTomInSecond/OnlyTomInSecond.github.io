---
title: xfce锁屏问题
--- 
# 关于xfce锁屏问题

## 问题来源 ##
在Debian10稳定版上的xfce桌面环境中，一直有一个关于锁屏的问题：

 当按下锁屏按钮（或者执行相关锁屏指令，像xflock这类的）时，屏幕会先黑，然后屏幕左上角出现一个光标（小下划线），然后看见鼠标被放置至屏幕中央，然后屏幕彻底黑，最后屏幕背光关闭，完成锁屏。

然后你滑动鼠标或者按下键盘，这是打破了锁屏状态，本来应该先屏幕的背光亮起，然后界面回到greeter（也就是登录界面），只输入密码就可以进入系统了。但是在Debian10上，对于仅使用light-locker这个锁屏程序的情况，锁屏后晃动鼠标并不会唤醒屏幕（屏幕依然保持关闭，而不是黑屏），这时候如果直接输入密码然后回车依然可以进入锁屏前的界面。

## 到底怎么回事？又该咋办？ ##
先说说怎么解决：

可以选择安装两个锁屏程序，一个是xfce桌面自带的light-locker，另一个可以是xscreenlocker或者其他的锁屏程序（比如gnome-screeenlocker啥的），在light-locker里面设置（该设置在xfce-power-manager里面，就是那个电源插件）取消**自动锁定会话**选项，勾上**在系统睡眠之前锁定屏幕**这个选项，同时在xfce-power-manager里面取消xfce-power-manager对屏幕电源的控制（其实不取消也没关系，主要是控制屏幕电源的程序只能有一个，要不然会错乱）:然后设置xscreenlocker的相关选项，同时让xscreenlocker接管屏幕电源选项。

那这样做之后会怎么样呢？

- 在屏幕超时后，屏幕会黑屏（首先是黑屏），过了一段时间后会关闭屏幕电源（也就是让屏幕休眠）。
- 超过系统所设置的系统休眠时间后，系统会休眠，同时关闭屏幕（意思是说系统休眠本身就可以关闭屏幕）。
- 系统休眠后，利用鼠标点击或者键盘的回车键可以唤醒系统，此时会先出现light-locker的锁屏界面（实际上锁住的是会话），输入用户名和密码，然后登入;再进入xscreenlocker的锁屏界面，只要输入密码便可以进入桌面环境。

所以说，能不能正常唤醒屏幕就看light-locker能不能正常将屏幕点亮，但关键是light-locker这个程序不完美，有些时候不能如愿，所以我们要更换锁屏程序，让其他锁屏程序来唤醒屏幕。所以说，刚才唤醒屏幕成功是因为有xscreenlocker接管了屏幕的电源选项。

尽管light-locker在Debian10稳定版上有这个问题，但是在testing版本中这个问题得到修复。
